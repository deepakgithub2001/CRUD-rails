<% if @book.errors.any? %>
  <div style="color: red;">
    <h3><%= pluralize(@book.errors.count, "error") %> prevented saving:</h3>
    <ul>
      <% @book.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with model: @book, local: true do |form| %>
  <p>
    <%= form.label :title %><br>
    <%= form.text_field :title, placeholder: "title.." %>
  </p>

  <p>
    <%= form.label :body %><br>
    <%= form.text_field :body, placeholder: "body..." %>
  </p>

  <p>
    <%= form.label :select_author%><br>
    <%= form.select :author_id, Author.all.collect { |au| [ au.name, au.id ] }, {prompt: "Please select author"}, include_blank: true %>
  </p>

  <p>
   <%= form.label :book_image%>
   <%= form.file_field :book_image%>
  </p>

  <%= form.submit "Create Book" %>
  <% end %>